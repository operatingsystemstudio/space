<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="ScreenOrientation" content="autoRotate:disabled" />
    <title>N+</title>
    <link rel="icon" type="image/png" href="assets/OS_logo.png" />
    <link
      rel="preload"
      href="assets/suisse/SuisseIntl-Regular.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      href="assets/suisse/SuisseIntl-Black.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      href="assets/suisse/SuisseIntl-Medium.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <style>
      @font-face {
        font-family: "Suisse";
        src: url("assets/suisse/SuisseIntl-Regular.woff2") format("woff2");
        font-weight: 400;
        font-style: normal;
        font-display: swap;
      }
      @font-face {
        font-family: "Suisse";
        src: url("assets/suisse/SuisseIntl-Medium.woff2") format("woff2");
        font-weight: 500;
        font-style: normal;
        font-display: swap;
      }
      @font-face {
        font-family: "Suisse";
        src: url("assets/suisse/SuisseIntl-Black.woff2") format("woff2");
        font-weight: 800;
        font-style: normal;
        font-display: swap;
      }
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
        width: 100%;
        font-family: "Suisse", sans-serif;
        font-weight: 800;
        background: url("assets/3-2/2.jpg") no-repeat center center fixed;
        background-position: calc(50%) calc(60%);
        background-size: cover;
        color: grey;
        background-color: black;

        font-size: 14px;
        line-height: 1.2;
        overflow: hidden;
      }
      ::selection {
        background: grey;
        color: black;
      }
      .bg-transition {
        filter: blur(0px) brightness(1) contrast(1);
        opacity: 0;
        transition: opacity 0.7s cubic-bezier(0.7, 0, 0.3, 1),
          filter 2.5s cubic-bezier(0.7, 0, 0.3, 1);
        pointer-events: none;
        position: fixed;

        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-position: center 60%;
        background-size: cover;
        background-repeat: no-repeat;
      }
      .inverted-bg {
        filter: invert(1) grayscale(1);
        transition: filter 0.7s cubic-bezier(0.7, 0, 0.3, 1);
      }
      .normal-bg {
        filter: none;
        transition: filter 0.7s cubic-bezier(0.7, 0, 0.3, 1);
      }
      .center-fixed {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;

        user-select: text;
      }

      .center-fixed .email,
      .center-fixed .ig-link {
        display: block;
        text-decoration: none;
        font-weight: 400;

        z-index: 10;
        position: relative;
        pointer-events: auto;
      }
      a {
        cursor: pointer !important;
      }

      .half a,
      .half a:visited,
      .half a:active,
      .half a:focus {
        color: white !important;
        mix-blend-mode: difference;
        font-weight: 800;
        text-decoration: none;
      }

      .half {
        position: fixed;
        left: 0;
        width: 100vw;
        height: 50vh;
        display: flex;
        align-items: center;
        justify-content: center;

        pointer-events: none;
      }
      .top-half {
        top: 0;
      }
      .bottom-half {
        bottom: 0;
      }
      .half a {
        pointer-events: auto;
      }
    </style>
  </head>
  <body>
    <div class="half top-half">
      <a
        href="https://instagram.com/operatingsystem_studio"
        target="_blank"
        rel="noopener"
        class="ig-link"
        style="text-decoration: none"
        >operating system_studio</a
      >
    </div>
    <div class="half bottom-half">
      <a
        class="email"
        href="mailto:start@operating system.studio"
        style="text-decoration: none"
        >start@operating system.studio</a
      >
    </div>
    <div id="bg-transition" class="bg-transition"></div>
    <script>
      const totalPhotos = 6;
      let currentPhoto = 2;
      let inverted = true;
      let intervalId;

      const bgTransition = document.getElementById("bg-transition");

      function setBackground(photo, instant = false) {
        document.body.style.backgroundImage = `url('assets/3-2/${photo}.jpg')`;
        document.body.classList.toggle("inverted-bg", inverted);
        document.body.classList.toggle("normal-bg", !inverted);
        if (instant) {
          bgTransition.style.opacity = 0;
          bgTransition.style.filter = "blur(0px) brightness(1.7) contrast(1.5)";
        }
      }

      function transitionToNextPhoto() {
        const nextPhoto = (currentPhoto % totalPhotos) + 1;
        bgTransition.style.backgroundImage = `url('assets/3-2/${nextPhoto}.jpg')`;
        bgTransition.style.opacity = 1;
        bgTransition.style.filter = "blur(32px) brightness(2.2) contrast(2)";
        setTimeout(() => {
          setBackground(nextPhoto);
          bgTransition.style.filter = "blur(0px) brightness(1.7) contrast(1.5)";
          bgTransition.style.opacity = 0;
          currentPhoto = nextPhoto;
        }, 1700); // blur piÃ¹ lento
      }

      function startSlideshow() {
        setBackground(currentPhoto, true);
        intervalId = setInterval(() => {
          if (inverted) transitionToNextPhoto();
        }, 4000);
      }

      function setInverted(state) {
        inverted = state;
        setBackground(currentPhoto);
        if (inverted) {
          startSlideshow();
        } else {
          clearInterval(intervalId);
        }
      }

      document.body.addEventListener("mousedown", function (e) {
        if (e.target.tagName === "A") return;
        setInverted(false);
      });
      document.body.addEventListener("mouseup", function (e) {
        if (e.target.tagName === "A") return;
        setInverted(true);
      });
      document.body.addEventListener("mouseleave", function (e) {
        if (!inverted) setInverted(true);
      });
      // Per mobile:
      document.body.addEventListener("touchstart", function (e) {
        if (e.target.tagName === "A") return;
        setInverted(false);
      });
      document.body.addEventListener("touchend", function (e) {
        if (e.target.tagName === "A") return;
        setInverted(true);
      });

      startSlideshow();
    </script>
  </body>
</html>
